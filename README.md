# Сервис-генератор RSA ключей шифрования

Сделан одновременно для портфолио и из личного интереса, одна из задач, которую на текущей работе решили не реализовывать. Сервис в фоновом режиме генерирует, кеширует, и отдает по запросу ключи шифрования. Количество хранимых ключей устанавливается в конфиге.

Аргументы командной строки:
```console
Usage:
  keys_service [OPTIONS]

Application Options:
  -c, --config= A path to the config file
```

Пример конфигурационного yaml файла:
```yaml
threads: 16      # количество запускаемых для генерации ключей горутин
stackSize: 5000  # объем кеша ключей
port: 8080       # порт на который садится сервер
```

Скорость генерации является бутылочным горлышком, на моей машине (Ryzen 7 5700X, 16 логических ядер) в секунду получается генерировать 70 ключей/сек, для ускорения работы на linux можно использовать `GOEXPERIMENT=boringcrypto`, опция включает генерацию с помощью библиотеки BoringSSL (форк OpenSSL от гугла). При использовании boringcrypto скорость генерации вырастает до 150 ключей/сек.

## Результаты работы профайлера:
### стандартная библиотека
![Screenshot 2024-04-29 224430](https://github.com/Nucrea/keys-service/assets/30021254/ab4efc3a-cd79-45df-b689-6d52a8d657d4)

### boringssl
![Screenshot 2024-04-29 224135](https://github.com/Nucrea/keys-service/assets/30021254/5a465022-232c-4e73-a918-5968f0d796e8)

## Результаты нагрузки с помощью Locust:
![Screenshot 2024-04-29 225751](https://github.com/Nucrea/keys-service/assets/30021254/3da3a24c-c6e4-4607-9d57-e1fbb8c33132)
